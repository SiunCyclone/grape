<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>grape</title>
    <link rel="stylesheet" href="./resources/style.css">
    <script src="./resources/jquery-2.0.3.min.js"></script>
    <script src="./resources/doc.js"></script>
  </head>
  <body>
    <div class="menu">
    </div>
    <div class="decl contents">
      <h1 class="target">grape</h1>
      
  <div class="decl">
    <h2 class="target">grape.buffer</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/buffer.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.camera</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/camera.d -->

<div class="indent"><div class="decl"><h3>class <span class="target">Camera</span>;
</h3>
<p>カメラ操作するクラス</p>

<div class="indent"><div class="decl"><h3> this();
</h3>
<p>カメラ位置の初期化
</p>
<p>デフォルトで以下の様に初期化されます。
</p>
<div class="section"><h4>eye:</h4><p>
(0, 0, 1) カメラの座標
</p></div>
<div class="section"><h4>center:</h4><p>
(0, 0, 0) 注視点
</p></div>
<div class="section"><h4>up:</h4><p>
(0, 1, 0) カメラの上座標</p></div>

</div>
<div class="decl"><h3>void <span class="target">rotate</span>(Vec3 <span class="italic">vec3</span>, in float <span class="italic">rad</span>);
</h3>
<p>カメラの回転
</p>
<div class="section"><h4>vec3:</h4><p>
回転軸となるベクトル
</p></div>
<div class="section"><h4>rad:</h4><p>
回転する角度</p></div>

</div>
<div class="decl"><h3>void <span class="target">perspective</span>(in float <span class="italic">fovy</span>, in float <span class="italic">aspect</span>, in float <span class="italic">znear</span>, in float <span class="italic">zfar</span>);
</h3>
<p>GLUTのgluPerspectiveと多分同じ</p>

</div>
<div class="decl"><h3>void <span class="target">look_at</span>(Vec3 <span class="italic">eye</span>, Vec3 <span class="italic">center</span>, Vec3 <span class="italic">up</span>);
</h3>
<p>GLUTのgluLookAtと同じ</p>

</div>
<div class="decl"><h3>@property Mat4 <span class="target">pvMat4</span>();
</h3>
<p>view, projection行列を掛け合わせたMat4型を返す
</p>
<p>基本的にこれをuniformのpvmMatrixに送ります。</p>

</div>
</div>
</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.event</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/event.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.file</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/file.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.filter</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/filter.d -->

<div class="indent"><div class="decl"><h3>abstract class <span class="target">Filter</span>;
</h3>
<p>ポストエフェクト用クラス
</p>
<p>デフォルトセットのFilterじゃ物足りない、自作のポストエフェクトを使いたい
 等といった時にFilterを継承して新たなFilterのSubClassを作成してください。</p>

<div class="indent"><div class="decl"><h3> this(in size_t <span class="italic">num</span>, in int <span class="italic">w</span>, in int <span class="italic">h</span>);
</h3>
<p>Filterの初期化
</p>
<div class="section"><h4>num:</h4><p>
Filterで使うtextureの数
</p></div>
<div class="section"><h4>w:</h4><p>
textureの幅
</p></div>
<div class="section"><h4>h:</h4><p>
textureの高さ</p></div>

</div>
<div class="decl"><h3>abstract void <span class="target">filter</span>(in void delegate());
</h3>
<p>ポストエフェクトの処理
</p>
<p>実際にポストエフェクトをかける関数です。
 引数部分で下記のように描画処理をすれば、ポストエフェクトをかけたテクスチャが作成され、
 Filter.render();で描画できます。

</p>
<div class="section"><h4>Examples:</h4><p></p><pre><code>Filter.<span class="underline">filter</span>({
  Renderer.render();
});
</code></pre><p>
</p></div>

</div>
<div class="decl"><h3>final void <span class="target">render</span>();
</h3>
<p>ポストエフェクトがかかったテクスチャの描画
</p>
<p>単純にテクスチャを描画するだけです。

</p>
<div class="section"><h4>TODO:</h4><p>
FilterRenderer所持してるけどどうするか</p></div>

</div>
<div class="decl"><h3>final void <span class="target">render</span>(in size_t <span class="italic">i</span>);
</h3>
<p>Filterが内部に所持しているテクスチャの描画
</p>
<p>基本的にユーザーが呼ぶことはありません。
 引数に受け取った番号のテクスチャを描画します。
 BlurFilterならば、
 0:  renderした画面を格納したtexture
 1:  0を横Blurしたtexture
 2:  1を縦Blurしたtexture</p>

</div>
<div class="decl"><h3>final void <span class="target">filter_scope</span>(in size_t <span class="italic">i</span>, in void delegate() <span class="italic">dg</span>);
</h3>
<p>ポストエフェクトがかかったテクスチャを適応したスコープ
</p>

</div>
</div>
</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.font</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/font.d -->

<div class="indent"><div class="decl"><h3>class <span class="target">Font</span>;
</h3>
<p>Fontを管理するクラス
</p>
<p>FontRendererがあるのでFontをロードする機能くらいしか使わない。</p>

<div class="indent"><div class="decl"><h3> this(in string <span class="italic">file</span>);
</h3>
<p>Fontの初期化
</p>
<p>引数にTTFフォントのファイル名を渡すと読み込みます。</p>

</div>
<div class="decl"><h3>void <span class="target">load</span>(in string <span class="italic">file</span>);
</h3>
<p>Fontの読み込み
</p>
<div class="section"><h4>file:</h4><p>
TTFフォントのファイル名</p></div>

</div>
<div class="decl"><h3>void <span class="target">create_texture</span>(in int <span class="italic">size</span>, in string <span class="italic">text</span>, in SDL_Color <span class="italic">color</span>);
</h3>
<p>文字列テクスチャの作成
</p>
<p>基本的にユーザーは使いません。
 受け取ったtextのテクスチャを作成します。
</p>
<div class="section"><h4>size:</h4><p>
文字の大きさ
</p></div>
<div class="section"><h4>text:</h4><p>
文字列
</p></div>
<div class="section"><h4>color:</h4><p>
文字列の色</p></div>

</div>
<div class="decl"><h3>@property Texture <span class="target">texture</span>();
</h3>
<p>文字列テクスチャを返す
</p>
<p>基本的にユーザーは使いません。</p>

</div>
</div>
</div>
<div class="decl"><h3>class <span class="target">FontRenderer</span>: grape.renderer.Renderer;
</h3>
<p>Fontを描画するクラス
</p>
<p>Fontの描画は全てこのクラスが行います。</p>

<div class="indent"><div class="decl"><h3>void <span class="target">set_font</span>(Font <span class="italic">font</span>);
</h3>
<p>描画するフォントのセット
</p>
<p>render関数を呼ぶ前に必ず呼ばれる必要があります。
</p>
<div class="section"><h4>font:</h4><p>
描画するフォント

</p></div>
<div class="section"><h4>TODO:</h4><p>
コンストラクタでやるか</p></div>

</div>
<div class="decl"><h3>void <span class="target">set_color</span>(in ubyte <span class="italic">r</span>, in ubyte <span class="italic">g</span>, in ubyte <span class="italic">b</span>);
</h3>
<p>描画文字色の設定
</p>
<p>0~255までの値を引数にとります。
</p>
<div class="section"><h4>r:</h4><p>
赤
</p></div>
<div class="section"><h4>g:</h4><p>
緑
</p></div>
<div class="section"><h4>b:</h4><p>
青

</p></div>
<div class="section"><h4>TODO:</h4><p>
引数の値範囲チェック</p></div>

</div>
<div class="decl"><h3>void <span class="target">render</span>(in float <span class="italic">x</span>, in float <span class="italic">y</span>, in string <span class="italic">text</span>, in int <span class="italic">size</span>);
</h3>
<p>描画関数
</p>
<div class="section"><h4>x:</h4><p>
描画する左上のx座標
</p></div>
<div class="section"><h4>y:</h4><p>
描画する左上のy座標
</p></div>
<div class="section"><h4>text:</h4><p>
描画する文字列
</p></div>
<div class="section"><h4>size:</h4><p>
描画するフォントの大きさ

</p></div>
<div class="section"><h4>TODO:</h4><p>
Rendererのrenderを使ってない</p></div>

</div>
</div>
</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.grape</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/grape.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.image</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/image.d -->

<div class="indent"><div class="decl"><h3>class <span class="target">Image</span>;
</h3>
<p>画像クラス</p>

<div class="indent"><div class="decl"><h3> this(in string <span class="italic">file</span>);
</h3>
<p>Imageの初期化
</p>
<p>引数に画像のファイル名を渡すと読み込みます。</p>

</div>
<div class="decl"><h3>void <span class="target">load</span>(in string <span class="italic">file</span>);
</h3>
<p>画像の読み込み
</p>
<div class="section"><h4>file:</h4><p>
画像のファイル名</p></div>

</div>
<div class="decl"><h3>void <span class="target">create_texture</span>();
</h3>
<p>画像テクスチャの作成
</p>
<p>基本的にユーザーは使いません。</p>

</div>
<div class="decl"><h3>@property Texture <span class="target">texture</span>();
</h3>
<p>画像テクスチャを返す
</p>
<p>基本的にユーザーは使いません。</p>

</div>
</div>
</div>
<div class="decl"><h3>class <span class="target">ImageRenderer</span>: grape.renderer.Renderer;
</h3>
<p>画像を描画するクラス
</p>
<div class="section"><h4>TODO:</h4><p>
Camera使うか</p></div>

<div class="indent"><div class="decl"><h3>void <span class="target">set_image</span>(Image <span class="italic">image</span>);
</h3>
<p>描画する画像のセット
</p>
<div class="section"><h4>image:</h4><p>
描画する画像</p></div>

</div>
<div class="decl"><h3>void <span class="target">render</span>(in float <span class="italic">x</span>, in float <span class="italic">y</span>, in float <span class="italic">scale</span>);
</h3>
<p>描画
</p>
<div class="section"><h4>x:</h4><p>
描画する左上のx座標
</p></div>
<div class="section"><h4>y:</h4><p>
描画する左上のy座標
</p></div>
<div class="section"><h4>scale:</h4><p>
倍率(未実装なので基本1.0を指定)

</p></div>
<div class="section"><h4>TODO:</h4><p>
Rendererのrenderを使用してない
 <span class="italic">scale</span> is not implemented yet</p></div>

</div>
</div>
</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.input</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/input.d -->

<div class="indent"><div class="decl"><h3>class <span class="target">Input</span>;
</h3>
<p>ユーザーの入力を管理するクラス
</p>
<p>キーボード、ジョイパッド、マウス等のイベントは全てこのクラスが管理します。</p>

<div class="indent"><div class="decl"><h3>static void <span class="target">poll</span>();
</h3>
<p>入力をpollし、実行
</p>
<p>毎フレーム呼ぶことが推奨されます。</p>

</div>
</div>
</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.joystick</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/joystick.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.keyboard</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/keyboard.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.manip</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/manip.d -->

<div class="indent"><div class="decl"><h3>struct <span class="target">CoordinateSystem</span>;
</h3>
<p>ローカル座標系の構造体</p>

</div>
<div class="decl"><h3>struct <span class="target">Manipulator</span>;
</h3>
<p>3Dオブジェクトを簡単に操作するクラス</p>

</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.math</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/math.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.renderer</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/renderer.d -->

<div class="indent"><div class="decl"><h3>abstract class <span class="target">Renderer</span>;
</h3>
<p>描画クラス
</p>
<p>デフォルトセットのRendererじゃ物足りない、自作のシェーダを使いたい
 等といった時にRendererを継承して新たなRendererのSubClass作成してください。</p>

<div class="indent"><div class="decl"><h3>final void <span class="target">init</span>(in void delegate(out string, out string) <span class="italic">dg</span>, in string[] <span class="italic">locNames</span>, in int[] <span class="italic">strides</span>, in DrawMode <span class="italic">drawMode</span>);
</h3>
<p>Rendererの初期化
</p>
<p>Rendererを継承したSubClassは必ずこの関数をコンストラクタで呼ぶ必要があります。
</p>
<div class="section"><h4>dg:</h4><p>
Shaderのソース
</p></div>
<div class="section"><h4>locNames:</h4><p>
Shaderのattributesの名前の配列
</p></div>
<div class="section"><h4>strides:</h4><p>
Shaderのattributesのストライド
</p></div>
<div class="section"><h4>drawMode:</h4><p>
描画モード

</p></div>
<div class="section"><h4>TODO:</h4><p>
iboはここで初期化されるべき
 引数を減らしたい</p></div>

</div>
<div class="decl"><h3>void <span class="target">set_ibo</span>(in int[] <span class="italic">index</span>);
</h3>
<p>IBOをセット
</p>
<p>IBOを使って描画する場合、この関数を呼ぶ必要
 ibo must be initialized before calling this function, or cause segv.

</p>
<div class="section"><h4>TODO:</h4><p>
final修飾子つけるか</p></div>

</div>
<div class="decl"><h3>void <span class="target">set_uniform</span>(T)(in string <span class="italic">name</span>, in T <span class="italic">value</span>, in string <span class="italic">type</span>, in int <span class="italic">num</span> = 1);
</h3>
<p>Uniform変数のセット
</p>
<div class="section"><h4>name:</h4><p>
uniformの場所の名前
</p></div>
<div class="section"><h4>value:</h4><p>
セットする値
</p></div>
<div class="section"><h4>type:</h4><p>
</p></div>
<div class="section"><h4>num:</h4><p>
</p></div>

</div>
<div class="decl"><h3>abstract void <span class="target">render</span>();
</h3>
<p>描画関数
</p>
<p>SubClassで必ずoverrideする必要があります。

</p>
<div class="section"><h4>TODO:</h4><p>
ImageRendererでこれ使ってない</p></div>

</div>
</div>
</div>
<div class="decl"><h3>class <span class="target">GaussianRenderer</span>: grape.renderer.Renderer;
</h3>
<p>GaussBlur用のRenderer
</p>
<p>ユーザーが使うことはまずないと思われる

</p>
<div class="section"><h4>TODO:</h4><p>
BlurFilter,GlowFilterの内部に移動させるか</p></div>

</div>
<div class="decl"><h3>class <span class="target">BasicRenderer</span>: grape.renderer.Renderer;
</h3>
<p>基本的なRenderer
</p>
<div class="section"><h4>TODO:</h4><p>
どんなRendererにするか決まってない</p></div>

</div>
<div class="decl"><h3>class <span class="target">TextureRenderer</span>: grape.renderer.Renderer;
</h3>
<p>Textureを描画
</p>
<div class="section"><h4>TODO:</h4><p>
ImageRendererとの区別</p></div>

</div>
</div>

  </div>

  <div class="decl">
    <h2 class="target">grape.shader</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/shader.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.surface</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/surface.d -->


  </div>

  <div class="decl">
    <h2 class="target">grape.window</h2>
    <!-- Generated by Ddoc from /home/siun/pro/D/grape/import/grape/window.d -->

<div class="indent"><div class="decl"><h3>class <span class="target">Window</span>;
</h3>
<p>Windowを管理するクラス</p>

<div class="indent"><div class="decl"><h3> this(in string <span class="italic">name</span>, in int <span class="italic">x</span>, in int <span class="italic">y</span>, in int <span class="italic">w</span>, in int <span class="italic">h</span>, in WindowFlags <span class="italic">flag</span>);
</h3>
<p>Windowの初期化コンストラクタ
</p>
<div class="section"><h4>name:</h4><p>
画面のタイトル
</p></div>
<div class="section"><h4>x:</h4><p>
画面左上のx座標
</p></div>
<div class="section"><h4>y:</h4><p>
画面左上のy座標
</p></div>
<div class="section"><h4>w:</h4><p>
画面の幅
</p></div>
<div class="section"><h4>h:</h4><p>
画面の高さ</p></div>

</div>
<div class="decl"><h3>void <span class="target">update</span>();
</h3>
<p>画面の更新</p>

</div>
<div class="decl"><h3>void <span class="target">viewport</span>(in int <span class="italic">x</span>, in int <span class="italic">y</span>, in int <span class="italic">w</span>, in int <span class="italic">h</span>);
</h3>
<p>Viewportの設定
</p>
<p>内部でOpenGLのglViewport関数を呼んでいるだけです

</p>
<div class="section"><h4>TODO:</h4><p>
他に移すかも</p></div>

</div>
<div class="decl"><h3>void <span class="target">enable_alpha</span>();
</h3>
<p>Alphaチャンネルの有効化
</p>
<div class="section"><h4>TODO:</h4><p>
他に移すかも</p></div>

</div>
</div>
</div>
</div>

  </div>

    </div>
  </body>
</html>
